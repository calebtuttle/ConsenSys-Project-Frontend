{"ast":null,"code":"import _regeneratorRuntime from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./JobPost.css\";var JobPost=/*#__PURE__*/function(_Component){_inherits(JobPost,_Component);function JobPost(){var _getPrototypeOf2;var _this;_classCallCheck(this,JobPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(JobPost)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={applicantAddrs:[]};_this.applyToJob=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var contract,accounts,linkedIn;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;console.log(\"applying to job with jobId \"+_this.props.jobId);contract=_this.props.contract;accounts=_this.props.accounts;linkedIn=event.target.linkedIn.value;_context.next=8;return contract.methods.applyToJob(parseInt(_this.props.jobId),linkedIn).send({from:accounts[0]});case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);alert(\"Error\");console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.openForm=function(){document.getElementById(\"applicationForm\"+_this.props.jobId).style.display=\"block\";};_this.closeForm=function(){document.getElementById(\"applicationForm\"+_this.props.jobId).style.display=\"none\";document.getElementById(\"applicationFormLinkedIn\"+_this.props.jobId).value=\"\";};_this.viewApplicantapplicantAddrs=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var contract,accounts,applicantAddrs;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log(\"Viewing applicants to job with jobId \"+_this.props.jobId);contract=_this.props.contract;accounts=_this.props.accounts;_context2.next=6;return contract.methods.viewApplicantAddresses(parseInt(_this.props.jobId)).call({from:accounts[0]});case 6:applicantAddrs=_context2.sent;console.log(applicantAddrs);_this.setState({applicantAddrs:applicantAddrs});_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);alert(\"Error\");console.error(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return _this;}_createClass(JobPost,[{key:\"render\",value:function render(){var applicantAddrItems=this.state.applicantAddrs.map(function(applicantAddr,index){return React.createElement(\"li\",{key:index,className:\"applicantAddrItem\"},applicantAddr);});return React.createElement(\"div\",null,React.createElement(\"h4\",null,this.props.title),React.createElement(\"p\",null,this.props.description),React.createElement(\"p\",null,\"Posted by: \",this.props.poster),React.createElement(\"button\",{onClick:this.openForm,className:\"open-button\"},\"Apply\"),React.createElement(\"div\",{className:\"form-popup\",id:\"applicationForm\"+this.props.jobId},React.createElement(\"form\",{onSubmit:this.applyToJob,className:\"form-container\"},React.createElement(\"label\",null,\"LinkedIn: \",React.createElement(\"input\",{type:\"text\",id:\"applicationFormLinkedIn\"+this.props.jobId,name:\"linkedIn\",required:true})),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"submit\",value:\"Send application\"}),React.createElement(\"button\",{type:\"button\",className:\"btn cancel\",onClick:this.closeForm},\"Close\"))),React.createElement(\"button\",{onClick:this.viewApplicantapplicantAddrs,className:\"view-applicantAddrs-button\"},\"View Applicants' Addresses\"),applicantAddrItems);}}]);return JobPost;}(Component);export{JobPost as default};","map":{"version":3,"sources":["/home/caleb/Desktop/myprograms/ConsenSysBootcampStuff/ProjectFrontend/src/JobPost.js"],"names":["React","Component","JobPost","state","applicantAddrs","applyToJob","event","preventDefault","console","log","props","jobId","contract","accounts","linkedIn","target","value","methods","parseInt","send","from","alert","error","openForm","document","getElementById","style","display","closeForm","viewApplicantapplicantAddrs","viewApplicantAddresses","call","setState","applicantAddrItems","map","applicantAddr","index","title","description","poster"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"./JobPost.css\";\n\nexport default class JobPost extends Component {\n    state = { applicantAddrs: [] };\n\n    applyToJob = async (event) => {\n        event.preventDefault();\n        try {\n            console.log(\"applying to job with jobId \" + this.props.jobId);\n            const contract = this.props.contract;\n            const accounts = this.props.accounts;\n            let linkedIn = event.target.linkedIn.value;\n            await contract.methods.applyToJob(parseInt(this.props.jobId), linkedIn).send({ from: accounts[0] });\n        } catch (error) {\n            alert(\"Error\");\n            console.error(error);\n        }\n    }\n    \n    openForm = () => {\n        document.getElementById(\"applicationForm\" + this.props.jobId).style.display = \"block\";\n    }\n    \n    closeForm = () => {\n        document.getElementById(\"applicationForm\" + this.props.jobId).style.display = \"none\";\n        document.getElementById(\"applicationFormLinkedIn\" + this.props.jobId).value = \"\";\n    }\n\n    // removeJob = async (event) => {\n    //     event.preventDefault();\n    //     if (window.confirm(\"Are you sure you want to remove this job posting?\"))\n    //     {\n    //         try {\n    //             console.log(\"removing job with jobId \" + this.props.jobId);\n    //             const contract = this.props.contract;\n    //             const accounts = this.props.accounts;\n    //             await contract.methods.removeJob(parseInt(this.props.jobId)).send({ from: accounts[0] });\n    //         } catch (error) {\n    //             alert(\"Error\");\n    //             console.error(error);\n    //         }\n    //     }\n    // }\n\n    viewApplicantapplicantAddrs = async () => {\n        // event.preventDefault();\n        try {\n            console.log(\"Viewing applicants to job with jobId \" + this.props.jobId);\n            const contract = this.props.contract;\n            const accounts = this.props.accounts;\n            let applicantAddrs = await contract.methods.viewApplicantAddresses(parseInt(this.props.jobId)).call({ from: accounts[0] });\n            \n            console.log(applicantAddrs);\n            \n            this.setState({ applicantAddrs })\n        } catch (error) {\n            alert(\"Error\");\n            console.error(error);\n        }\n    }\n\n    render() {\n\n        let applicantAddrItems = this.state.applicantAddrs.map((applicantAddr, index) => \n            <li key={index} className=\"applicantAddrItem\">{applicantAddr}</li>\n        );\n\n        return (\n            <div>\n                <h4>{this.props.title}</h4>\n                <p>{this.props.description}</p>\n                <p>Posted by: {this.props.poster}</p>\n\n                <button onClick={this.openForm} className=\"open-button\" >Apply</button>\n\n                <div className=\"form-popup\" id={\"applicationForm\" + this.props.jobId}>\n                    <form onSubmit={this.applyToJob} className=\"form-container\" >\n                        <label>\n                            LinkedIn: <input type=\"text\" id={\"applicationFormLinkedIn\" + this.props.jobId} name=\"linkedIn\" required />\n                        </label>\n                        <br/>\n                        <input type=\"submit\" value=\"Send application\" />\n                        <button type=\"button\" className=\"btn cancel\" onClick={this.closeForm}>Close</button>\n                    </form>\n                </div>\n\n                {/* <button onClick={this.removeJob} className=\"remove-job-button\" >Remove Job</button> */}\n                <button onClick={this.viewApplicantapplicantAddrs} className=\"view-applicantAddrs-button\" >View Applicants' Addresses</button>\n                {applicantAddrItems}\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}